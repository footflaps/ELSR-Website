{% extends "base.html" %}


{% block content %}


<!---------------------------------------------------------------------------------------------------->
<!--                                       Page Header                                              -->
<!---------------------------------------------------------------------------------------------------->

<header class="masthead"
        style="background-image: url({{ url_for('static', filename='img/page-headers/cafe_top10-bg.jpg') }})"
		alt="Cyclists in cafe">
	<div class="overlay"></div>
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-md-10 mx-auto">
				<div class="page-heading">
					<h1>Top 10 Cafes</h1>
					<span class="subheading">The hottest places around..</span>
				</div>
			</div>
		</div>
	</div>
</header>


<!---------------------------------------------------------------------------------------------------->
<!--                                 Show flash messages                                            -->
<!---------------------------------------------------------------------------------------------------->

{% with messages = get_flashed_messages() %}
	{% if messages %}
		{% for message in messages %}
			<div class="alert alert-warning text-center">
				{{ message }}
			</div>
		{% endfor %}
	{% endif %}
{% endwith %}


<!---------------------------------------------------------------------------------------------------->
<!--                                               Intro                                            -->
<!---------------------------------------------------------------------------------------------------->

<div class="container">
	<div class="row">
		<div class="col-lg-8 col-md-10 col-sm-12 mx-auto mb-3">
			
			<h2>ELSR's most popular cafes</h2>
			<p>
				These are our Top Ten most visited cafes from our scheduled weekend rides.
			</p>
			
		</div>
	</div>
</div>


<!---------------------------------------------------------------------------------------------------->
<!--                                           Table                                                -->
<!---------------------------------------------------------------------------------------------------->

<div class="container">
	<div class="row">
		<div class="col-lg-8 col-md-10 col-sm-12 mx-auto mb-3">
		
			<table id="gpxTable" class="table table-striped table-bordered table-sm table-condensed"
			       data-page-length="25"
			       style="width: 100%">
			
				<!-- Header -->
				<thead>
                    <tr>
	                    <th scope="col"># Rides</th>
	                    <th scope="col">Name</th>
                        <th scope="col">Routes</th>
                        <th scope="col">Rating</th>
	                    
                    </tr>
                </thead>
		
				<tbody>
					{% for cafe in cafes: %}
				
						<!-- Each cafe -->
						<tr>
							<td scope="row">{{ cafe['visits'] }}</td>
							<td scope="row">
								<a href="{{ url_for('cafe_details', cafe_id=cafe['id']) }}">
									{{ cafe['name'] }}
								</a>
							</td>
							<td scope="row">{{ cafe['routes'] }}</td>
	                        <td scope="row">{{ cafe['rating'] }}</td>
					    </tr>
				
					{% endfor %}
				</tbody>
			
			</table>
			
		</div>
	</div>
</div>


<!-- Separator -->
<div class="container">
	<div class="row">
		<div class="col-lg-8 col-md-10 col-sm-12 mx-auto mb-3">
			<hr>
		</div>
	</div>
</div>



{% endblock %}
